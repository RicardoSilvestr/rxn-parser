{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 65b5c2c011e1c0aeeb62","webpack:///./src/index.js"],"names":["parse","rxn","TypeError","header","substr","crlf","indexOf","rxnParts","split","reagents","products","result","length","Error","lines","numberReagents","substring","numberProducts","thirdNumber","trim","replace","i","push","module","exports"],"mappings":"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","file":"rxn-parser.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"SDFParser\"] = factory();\n\telse\n\t\troot[\"SDFParser\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 65b5c2c011e1c0aeeb62","'use strict';\n\nfunction parse(rxn) {\n    if (typeof rxn !== 'string') {\n        throw new TypeError('Parameter \"rxn\" must be a string');\n    }\n    // we will find the delimiter in order to be much faster and not use regular expression\n    var header = rxn.substr(0, 1000);\n    var crlf = '\\n';\n    if (header.indexOf('\\r\\n') > -1) {\n        crlf = '\\r\\n';\n    } else if (header.indexOf('\\r') > -1) {\n        crlf = '\\r';\n    }\n\n    var rxnParts = rxn.split(crlf + '$MOL' + crlf);\n\n    var reagents=[];\n    var products=[];\n\n    var result={};\n    result.reagents=reagents;\n    result.products=products;\n\n\n    // the first part is expected to contain the number of reagents and products\n\n    // First part should start with $RXN\n    // and the fifth line should contain the number of reagents and products\n    if (rxnParts.length===0) throw new Error('file looks empty');\n\n    var header=rxnParts[0];\n    if (header.indexOf(\"$RXN\")!=0) throw new Error('file does not start with $RXN');\n\n    var lines=header.split(crlf);\n    if (lines.length<5) throw new Error('incorrect number of lines in header');\n\n    var numberReagents=lines[4].substring(0,3) >> 0;\n    var numberProducts=lines[4].substring(3,6) >> 0;\n\n    // hack for JSME\n    var thirdNumber=lines[4].substring(6,9) >> 0; // for jsme\n\n    if (thirdNumber && rxnParts[1]) {\n        let lines=rxnParts[1].split(crlf);\n        if (lines[0]) {\n            numberReagents=lines[0].trim().replace(/>[^>]*$/,'').split(/[.>]/).length;\n         }\n    }\n\n    if (numberReagents+numberProducts!=rxnParts.length-1) throw new Error('not the correct number of molecules');\n\n    for (var i=1; i<rxnParts.length; i++) {\n        if (i<=numberReagents) {\n            reagents.push(rxnParts[i]);\n        } else {\n            products.push(rxnParts[i]);\n        }\n    }\n    return result;\n\n}\n\nmodule.exports = parse;\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js"],"sourceRoot":""}